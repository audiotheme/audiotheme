jQuery(function(a){var b=a("#venue-city"),c=a("#venue-state"),d=a("#venue-country"),e=a("#venue-timezone-string");b.autocomplete({source:function(b,c){a.ajax({url:"http://ws.geonames.org/searchJSON",data:{featureClass:"P",style:"full",maxRows:12,name_startsWith:b.term},dataType:"jsonp",success:function(b){c(a.map(b.geonames,function(a){return{label:a.name+(a.adminName1?", "+a.adminName1:"")+", "+a.countryName,value:a.name,adminCode:a.adminCode1,countryName:a.countryName,timezone:a.timezone.timeZoneId}}))}})},minLength:2,select:function(a,b){""===c.val()&&c.val(b.item.adminCode),""===d.val()&&d.val(b.item.countryName),e.find('option[value="'+b.item.timezone+'"]').attr("selected","selected")}})});